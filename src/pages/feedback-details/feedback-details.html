<!--
  Generated template for the FeedbackDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="danger">
      <ion-title>Feedback Details</ion-title>
      <ion-buttons right>
          <button ion-button icon-only (click)="editFeedback($event, feedback)">
            <ion-icon name="md-create"></ion-icon>
          </button>
        </ion-buttons>
    </ion-navbar>
  </ion-header>

<ion-content padding>
    <ion-card>
        <ion-card-header>
            <strong>{{feedback.name}}</strong>
        </ion-card-header>
        <ion-card-content *ngIf="editState == false">
            <p>{{feedback.feedback}}</p>
            <hr>
            <ion-icon *ngIf="feedback.rating < 50" color="danger" name="sad"></ion-icon>
            <ion-icon *ngIf="feedback.rating >= 50" color="secondary" name="happy"></ion-icon>
            <strong>{{feedback.rating}}</strong>
            <br><br>
            <button ion-button color="danger" (click)="deleteFeedback(feedback._id.$oid)"><ion-icon name="trash"></ion-icon>&nbsp;&nbsp;Delete Feedback</button>
        </ion-card-content>
    

        <ion-card-content *ngIf="editState == true && feedbackToEdit._id.$oid == feedback._id.$oid" padding>
            <ion-list no-lines>
           
              <ion-item>
                <ion-label floating>Name</ion-label>
                <ion-input [(ngModel)]="feedbackToEdit.name" name="name" type="text" required></ion-input>
              </ion-item>
           
              <ion-item>
                <ion-label floating>Review</ion-label>
                <ion-textarea [(ngModel)]="feedbackToEdit.feedback" name="feedback"></ion-textarea>
              </ion-item>
           
              <ion-item>
                <ion-range min="0" max="100" pin="true" [(ngModel)]="feedbackToEdit.rating" name="rating" required>
                  <ion-icon range-left name="sad" color="danger"></ion-icon>
                  <ion-icon range-right name="happy" color="secondary"></ion-icon>
                </ion-range>
              </ion-item>
           
            </ion-list>
           
            <button ion-button full color="primary" (click)="updateFeedback(feedbackToEdit)">Update</button>
     </ion-card-content> 
    </ion-card>
  </ion-content>

  
